<div class="form-container">
  <h5 style="text-align: center; font-weight: bold;">KOMODITAS HIBAKU</h5>
  <hr>
  <form [formGroup]="form" (ngSubmit)="submit()">
    <div class="form-group row">
      <label for="inputName" class="col-sm-3 col-form-label">Nama Komoditas:</label>
      <div class="col-sm-9">
        <input type="text"
          formControlName="name"
          class="form-control"
          id="inputName"
          [ngClass]="{'is-invalid': form.get('name').errors && form.get('name').dirty}"/>
        <div *ngIf="form.get('name').dirty && form.get('name').errors" class="invalid-feedback">
          Nama komoditas harus diisi.
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="selectType" class="col-sm-3 col-form-label">Jenis/Kategori:</label>
      <div class="col-sm-9">
        <select class="custom-select" id="selectType" formControlName="type">
          <option *ngIf="!form.get('type').value"></option>
          <ng-container *ngFor="let c of categories">
            <option value="{{ c.value }}" [selected]="form.get('type').value && form.get('type').value === c.value">{{ c.key }}</option>
          </ng-container>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="inputUnit" class="col-sm-3 col-form-label">Satuan:</label>
      <div class="col-sm-9">
        <input type="text"
          formControlName="unit"
          class="form-control"
          id="inputUnit"
          [ngClass]="{'is-invalid': form.get('unit').errors && form.get('unit').dirty}"/>
        <div *ngIf="form.get('unit').dirty && form.get('unit').errors" class="invalid-feedback">
          Satuan komoditas harus diisi.
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label for="inputPrice" class="col-sm-3 col-form-label">
        Harga<span *ngIf="form.get('unit').value"> (per {{ form.get('unit').value }})</span>:
      </label>
      <div class="col-sm-9">
        <input
          type="number"
          min="0"
          formControlName="price"
          class="form-control"
          id="inputPrice"
          [ngClass]="{'is-invalid': form.get('price').errors && form.get('price').dirty}">
        <div *ngIf="form.get('price').dirty && form.get('price').errors" class="invalid-feedback">
          Harga komoditas harus diisi.
        </div>
      </div>
    </div>
    <hr>
    <div class="button-container">
      <button type="submit"
        class="btn"
        [ngClass]="isDeleteForm ? 'btn-danger' : 'btn-primary'"
        [disabled]="!isDeleteForm && !form.valid">
        {{ isDeleteForm ? 'HAPUS' : 'SIMPAN' }}
      </button>
      <button type="button" class="btn btn-warning" (click)="close()">BATAL</button>
    </div>
  </form>
</div>
